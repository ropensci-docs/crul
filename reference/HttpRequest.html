<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Create HTTP requests"><title>HTTP request object — HttpRequest • crul</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="HTTP request object — HttpRequest"><meta property="og:description" content="Create HTTP requests"><meta property="og:image" content="https://docs.ropensci.org/crul/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">crul</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.4.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/crul.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/async.html">3. async with crul</a>
    <a class="dropdown-item" href="../articles/best-practices-api-packages.html">5. API package best practices</a>
    <a class="dropdown-item" href="../articles/choosing-a-client.html">6. Choosing a HTTP request class</a>
    <a class="dropdown-item" href="../articles/curl-options.html">4. curl options</a>
    <a class="dropdown-item" href="../articles/how-to-use-crul.html">2. crul workflows</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/crul/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>HTTP request object</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/crul/blob/HEAD/R/httprequest.R" class="external-link"><code>R/httprequest.R</code></a></small>
      <div class="d-none name"><code>HttpRequest.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create HTTP requests</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This R6 class doesn't do actual HTTP requests as does
<code><a href="HttpClient.html">HttpClient()</a></code> - it is for building requests to use for async HTTP
requests in <code><a href="AsyncVaried.html">AsyncVaried()</a></code></p>
<p>Note that you can access HTTP verbs after creating an <code>HttpRequest</code>
object, just as you can with <code>HttpClient</code>. See examples for usage.</p>
<p>Also note that when you call HTTP verbs on a <code>HttpRequest</code> object you
don't need to assign the new object to a variable as the new details
you've added are added to the object itself.</p>
<p>See <code><a href="HttpClient.html">HttpClient()</a></code> for information on parameters.</p>
    </div>
    <div class="section level2">
    <h2 id="r-classes">R6 classes<a class="anchor" aria-label="anchor" href="#r-classes"></a></h2>
    

<p>This is an R6 class from the package <span class="pkg">R6</span>. Find out more
about R6 at <a href="https://r6.r-lib.org/" class="external-link">https://r6.r-lib.org/</a>. After creating an instance of an R6
class (e.g., <code>x &lt;- HttpClient$new(url = "https://hb.opencpu.org")</code>) you can
access values and methods on the object <code>x</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="http-headers.html">http-headers</a>, <a href="writing-options.html">writing-options</a></p>
<p>Other async: 
<code><a href="AsyncQueue.html">AsyncQueue</a></code>,
<code><a href="AsyncVaried.html">AsyncVaried</a></code>,
<code><a href="Async.html">Async</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>url</code></dt>
<dd><p>(character) a url</p></dd>


<dt><code>opts</code></dt>
<dd><p>(list) named list of curl options</p></dd>


<dt><code>proxies</code></dt>
<dd><p>a <code><a href="proxies.html">proxy()</a></code> object</p></dd>


<dt><code>auth</code></dt>
<dd><p>an <code><a href="auth.html">auth()</a></code> object</p></dd>


<dt><code>headers</code></dt>
<dd><p>(list) named list of headers, see <a href="http-headers.html">http-headers</a></p></dd>


<dt><code>handle</code></dt>
<dd><p>a <code><a href="handle.html">handle()</a></code></p></dd>


<dt><code>progress</code></dt>
<dd><p>only supports <code><a href="https://httr.r-lib.org/reference/progress.html" class="external-link">httr::progress()</a></code>, see <a href="progress.html">progress</a></p></dd>


<dt><code>payload</code></dt>
<dd><p>resulting payload after request</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-HttpRequest-print"><code>HttpRequest$print()</code></a></p></li>
<li><p><a href="#method-HttpRequest-new"><code>HttpRequest$new()</code></a></p></li>
<li><p><a href="#method-HttpRequest-get"><code>HttpRequest$get()</code></a></p></li>
<li><p><a href="#method-HttpRequest-post"><code>HttpRequest$post()</code></a></p></li>
<li><p><a href="#method-HttpRequest-put"><code>HttpRequest$put()</code></a></p></li>
<li><p><a href="#method-HttpRequest-patch"><code>HttpRequest$patch()</code></a></p></li>
<li><p><a href="#method-HttpRequest-delete"><code>HttpRequest$delete()</code></a></p></li>
<li><p><a href="#method-HttpRequest-head"><code>HttpRequest$head()</code></a></p></li>
<li><p><a href="#method-HttpRequest-verb"><code>HttpRequest$verb()</code></a></p></li>
<li><p><a href="#method-HttpRequest-retry"><code>HttpRequest$retry()</code></a></p></li>
<li><p><a href="#method-HttpRequest-method"><code>HttpRequest$method()</code></a></p></li>
<li><p><a href="#method-HttpRequest-clone"><code>HttpRequest$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-HttpRequest-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>
<p>print method for <code>HttpRequest</code> objects</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">HttpRequest</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>x</code></dt>
<dd><p>self</p></dd>


<dt><code>...</code></dt>
<dd><p>ignored</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-HttpRequest-new"></a><div class="section">
<h3 id="method-new-">Method <code><a href="https://rdrr.io/r/methods/new.html" class="external-link">new()</a></code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create a new <code>HttpRequest</code> object</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/HttpRequest.html">HttpRequest</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">url</span>, <span class="va">opts</span>, <span class="va">proxies</span>, <span class="va">auth</span>, <span class="va">headers</span>, <span class="va">handle</span>, <span class="va">progress</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>url</code></dt>
<dd><p>(character) A url. One of <code>url</code> or <code>handle</code> required.</p></dd>


<dt><code>opts</code></dt>
<dd><p>any curl options</p></dd>


<dt><code>proxies</code></dt>
<dd><p>a <code><a href="proxies.html">proxy()</a></code> object</p></dd>


<dt><code>auth</code></dt>
<dd><p>an <code><a href="auth.html">auth()</a></code> object</p></dd>


<dt><code>headers</code></dt>
<dd><p>named list of headers, see <a href="http-headers.html">http-headers</a></p></dd>


<dt><code>handle</code></dt>
<dd><p>a <code><a href="handle.html">handle()</a></code></p></dd>


<dt><code>progress</code></dt>
<dd><p>only supports <code><a href="https://httr.r-lib.org/reference/progress.html" class="external-link">httr::progress()</a></code>, see <a href="progress.html">progress</a></p></dd>


<dt><code>urls</code></dt>
<dd><p>(character) one or more URLs</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>A new <code>HttpRequest</code> object</p>
</div>

</div><p></p><hr><a id="method-HttpRequest-get"></a><div class="section">
<h3 id="method-get-">Method <code><a href="https://rdrr.io/r/base/get.html" class="external-link">get()</a></code><a class="anchor" aria-label="anchor" href="#method-get-"></a></h3>
<p>Define a GET request</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">HttpRequest</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span>path <span class="op">=</span> <span class="cn">NULL</span>, query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>, disk <span class="op">=</span> <span class="cn">NULL</span>, stream <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>URL path, appended to the base URL</p></dd>


<dt><code>query</code></dt>
<dd><p>query terms, as a named list</p></dd>


<dt><code>disk</code></dt>
<dd><p>a path to write to. if NULL (default), memory used.
See <code><a href="https://rdrr.io/pkg/curl/man/curl_fetch.html" class="external-link">curl::curl_fetch_disk()</a></code> for help.</p></dd>


<dt><code>stream</code></dt>
<dd><p>an R function to determine how to stream data. if
NULL (default), memory used. See <code><a href="https://rdrr.io/pkg/curl/man/curl_fetch.html" class="external-link">curl::curl_fetch_stream()</a></code>
for help</p></dd>


<dt><code>...</code></dt>
<dd><p>curl options, only those in the acceptable set from
<code><a href="https://rdrr.io/pkg/curl/man/curl_options.html" class="external-link">curl::curl_options()</a></code> except the following: httpget, httppost, post,
postfields, postfieldsize, and customrequest</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-HttpRequest-post"></a><div class="section">
<h3 id="method-post-">Method <code>post()</code><a class="anchor" aria-label="anchor" href="#method-post-"></a></h3>
<p>Define a POST request</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">HttpRequest</span><span class="op">$</span><span class="fu">post</span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  body <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  disk <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stream <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  encode <span class="op">=</span> <span class="st">"multipart"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>URL path, appended to the base URL</p></dd>


<dt><code>query</code></dt>
<dd><p>query terms, as a named list</p></dd>


<dt><code>body</code></dt>
<dd><p>body as an R list</p></dd>


<dt><code>disk</code></dt>
<dd><p>a path to write to. if NULL (default), memory used.
See <code><a href="https://rdrr.io/pkg/curl/man/curl_fetch.html" class="external-link">curl::curl_fetch_disk()</a></code> for help.</p></dd>


<dt><code>stream</code></dt>
<dd><p>an R function to determine how to stream data. if
NULL (default), memory used. See <code><a href="https://rdrr.io/pkg/curl/man/curl_fetch.html" class="external-link">curl::curl_fetch_stream()</a></code>
for help</p></dd>


<dt><code>encode</code></dt>
<dd><p>one of form, multipart, json, or raw</p></dd>


<dt><code>...</code></dt>
<dd><p>curl options, only those in the acceptable set from
<code><a href="https://rdrr.io/pkg/curl/man/curl_options.html" class="external-link">curl::curl_options()</a></code> except the following: httpget, httppost, post,
postfields, postfieldsize, and customrequest</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-HttpRequest-put"></a><div class="section">
<h3 id="method-put-">Method <code>put()</code><a class="anchor" aria-label="anchor" href="#method-put-"></a></h3>
<p>Define a PUT request</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">HttpRequest</span><span class="op">$</span><span class="fu">put</span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  body <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  disk <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stream <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  encode <span class="op">=</span> <span class="st">"multipart"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>URL path, appended to the base URL</p></dd>


<dt><code>query</code></dt>
<dd><p>query terms, as a named list</p></dd>


<dt><code>body</code></dt>
<dd><p>body as an R list</p></dd>


<dt><code>disk</code></dt>
<dd><p>a path to write to. if NULL (default), memory used.
See <code><a href="https://rdrr.io/pkg/curl/man/curl_fetch.html" class="external-link">curl::curl_fetch_disk()</a></code> for help.</p></dd>


<dt><code>stream</code></dt>
<dd><p>an R function to determine how to stream data. if
NULL (default), memory used. See <code><a href="https://rdrr.io/pkg/curl/man/curl_fetch.html" class="external-link">curl::curl_fetch_stream()</a></code>
for help</p></dd>


<dt><code>encode</code></dt>
<dd><p>one of form, multipart, json, or raw</p></dd>


<dt><code>...</code></dt>
<dd><p>curl options, only those in the acceptable set from
<code><a href="https://rdrr.io/pkg/curl/man/curl_options.html" class="external-link">curl::curl_options()</a></code> except the following: httpget, httppost, post,
postfields, postfieldsize, and customrequest</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-HttpRequest-patch"></a><div class="section">
<h3 id="method-patch-">Method <code>patch()</code><a class="anchor" aria-label="anchor" href="#method-patch-"></a></h3>
<p>Define a PATCH request</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">HttpRequest</span><span class="op">$</span><span class="fu">patch</span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  body <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  disk <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stream <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  encode <span class="op">=</span> <span class="st">"multipart"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>URL path, appended to the base URL</p></dd>


<dt><code>query</code></dt>
<dd><p>query terms, as a named list</p></dd>


<dt><code>body</code></dt>
<dd><p>body as an R list</p></dd>


<dt><code>disk</code></dt>
<dd><p>a path to write to. if NULL (default), memory used.
See <code><a href="https://rdrr.io/pkg/curl/man/curl_fetch.html" class="external-link">curl::curl_fetch_disk()</a></code> for help.</p></dd>


<dt><code>stream</code></dt>
<dd><p>an R function to determine how to stream data. if
NULL (default), memory used. See <code><a href="https://rdrr.io/pkg/curl/man/curl_fetch.html" class="external-link">curl::curl_fetch_stream()</a></code>
for help</p></dd>


<dt><code>encode</code></dt>
<dd><p>one of form, multipart, json, or raw</p></dd>


<dt><code>...</code></dt>
<dd><p>curl options, only those in the acceptable set from
<code><a href="https://rdrr.io/pkg/curl/man/curl_options.html" class="external-link">curl::curl_options()</a></code> except the following: httpget, httppost, post,
postfields, postfieldsize, and customrequest</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-HttpRequest-delete"></a><div class="section">
<h3 id="method-delete-">Method <code>delete()</code><a class="anchor" aria-label="anchor" href="#method-delete-"></a></h3>
<p>Define a DELETE request</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">HttpRequest</span><span class="op">$</span><span class="fu">delete</span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  body <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  disk <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stream <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  encode <span class="op">=</span> <span class="st">"multipart"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>URL path, appended to the base URL</p></dd>


<dt><code>query</code></dt>
<dd><p>query terms, as a named list</p></dd>


<dt><code>body</code></dt>
<dd><p>body as an R list</p></dd>


<dt><code>disk</code></dt>
<dd><p>a path to write to. if NULL (default), memory used.
See <code><a href="https://rdrr.io/pkg/curl/man/curl_fetch.html" class="external-link">curl::curl_fetch_disk()</a></code> for help.</p></dd>


<dt><code>stream</code></dt>
<dd><p>an R function to determine how to stream data. if
NULL (default), memory used. See <code><a href="https://rdrr.io/pkg/curl/man/curl_fetch.html" class="external-link">curl::curl_fetch_stream()</a></code>
for help</p></dd>


<dt><code>encode</code></dt>
<dd><p>one of form, multipart, json, or raw</p></dd>


<dt><code>...</code></dt>
<dd><p>curl options, only those in the acceptable set from
<code><a href="https://rdrr.io/pkg/curl/man/curl_options.html" class="external-link">curl::curl_options()</a></code> except the following: httpget, httppost, post,
postfields, postfieldsize, and customrequest</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-HttpRequest-head"></a><div class="section">
<h3 id="method-head-">Method <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">head()</a></code><a class="anchor" aria-label="anchor" href="#method-head-"></a></h3>
<p>Define a HEAD request</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">HttpRequest</span><span class="op">$</span><span class="fu">head</span><span class="op">(</span>path <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>URL path, appended to the base URL</p></dd>


<dt><code>...</code></dt>
<dd><p>curl options, only those in the acceptable set from
<code><a href="https://rdrr.io/pkg/curl/man/curl_options.html" class="external-link">curl::curl_options()</a></code> except the following: httpget, httppost, post,
postfields, postfieldsize, and customrequest</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-HttpRequest-verb"></a><div class="section">
<h3 id="method-verb-">Method <code>verb()</code><a class="anchor" aria-label="anchor" href="#method-verb-"></a></h3>
<p>Use an arbitrary HTTP verb supported on this class
Supported verbs: get, post, put, patch, delete, head</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">HttpRequest</span><span class="op">$</span><span class="fu">verb</span><span class="op">(</span><span class="va">verb</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>verb</code></dt>
<dd><p>an HTTP verb supported on this class: get,
post, put, patch, delete, head. Also supports retry.</p></dd>


<dt><code>...</code></dt>
<dd><p>curl options, only those in the acceptable set from
<code><a href="https://rdrr.io/pkg/curl/man/curl_options.html" class="external-link">curl::curl_options()</a></code> except the following: httpget, httppost, post,
postfields, postfieldsize, and customrequest</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/HttpRequest.html">HttpRequest</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>url <span class="op">=</span> <span class="st">"https://hb.opencpu.org/get"</span><span class="op">)</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="va">z</span><span class="op">$</span><span class="fu">verb</span><span class="op">(</span><span class="st">'get'</span>, query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>hello <span class="op">=</span> <span class="st">"world"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">res</span><span class="op">$</span><span class="va">payload</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-HttpRequest-retry"></a><div class="section">
<h3 id="method-retry-">Method <code>retry()</code><a class="anchor" aria-label="anchor" href="#method-retry-"></a></h3>
<p>Define a RETRY request</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">HttpRequest</span><span class="op">$</span><span class="fu">retry</span><span class="op">(</span></span>
<span>  <span class="va">verb</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  pause_base <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  pause_cap <span class="op">=</span> <span class="fl">60</span>,</span>
<span>  pause_min <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  times <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  terminate_on <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  retry_only_on <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  onwait <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>verb</code></dt>
<dd><p>an HTTP verb supported on this class: get,
post, put, patch, delete, head. Also supports retry.</p></dd>


<dt><code>...</code></dt>
<dd><p>curl options, only those in the acceptable set from
<code><a href="https://rdrr.io/pkg/curl/man/curl_options.html" class="external-link">curl::curl_options()</a></code> except the following: httpget, httppost, post,
postfields, postfieldsize, and customrequest</p></dd>


<dt><code>pause_base, pause_cap, pause_min</code></dt>
<dd><p>basis, maximum, and minimum for
calculating wait time for retry. Wait time is calculated according to the
exponential backoff with full jitter algorithm. Specifically, wait time is
chosen randomly between <code>pause_min</code> and the lesser of <code>pause_base * 2</code> and
<code>pause_cap</code>, with <code>pause_base</code> doubling on each subsequent retry attempt.
Use <code>pause_cap = Inf</code> to not terminate retrying due to cap of wait time
reached.</p></dd>


<dt><code>times</code></dt>
<dd><p>the maximum number of times to retry. Set to <code>Inf</code> to
not stop retrying due to exhausting the number of attempts.</p></dd>


<dt><code>terminate_on, retry_only_on</code></dt>
<dd><p>a vector of HTTP status codes. For
<code>terminate_on</code>, the status codes for which to terminate retrying, and for
<code>retry_only_on</code>, the status codes for which to retry the request.</p></dd>


<dt><code>onwait</code></dt>
<dd><p>a callback function if the request will be retried and
a wait time is being applied. The function will be passed two parameters,
the response object from the failed request, and the wait time in seconds.
Note that the time spent in the function effectively adds to the wait time,
so it should be kept simple.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-HttpRequest-method"></a><div class="section">
<h3 id="method-method-">Method <code>method()</code><a class="anchor" aria-label="anchor" href="#method-method-"></a></h3>
<p>Get the HTTP method (if defined)</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">HttpRequest</span><span class="op">$</span><span class="fu">method</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>(character) the HTTP method</p>
</div>

</div><p></p><hr><a id="method-HttpRequest-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">HttpRequest</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">HttpRequest</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>url <span class="op">=</span> <span class="st">"https://hb.opencpu.org/get"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## note here how the HTTP method is shown on the first line to the right</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## assign to a new object to keep the output</span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">### get the HTTP method</span></span></span>
<span class="r-in"><span><span class="va">z</span><span class="op">$</span><span class="fu">method</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">HttpRequest</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>url <span class="op">=</span> <span class="st">"https://hb.opencpu.org/get"</span><span class="op">)</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">$</span><span class="va">url</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">$</span><span class="va">payload</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">HttpRequest</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>url <span class="op">=</span> <span class="st">"https://hb.opencpu.org/post"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">$</span><span class="fu">post</span><span class="op">(</span>body <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>foo <span class="op">=</span> <span class="st">"bar"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">HttpRequest</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span></span>
<span class="r-in"><span>  url <span class="op">=</span> <span class="st">"https://hb.opencpu.org/get"</span>,</span></span>
<span class="r-in"><span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    `Content-Type` <span class="op">=</span> <span class="st">"application/json"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># retry</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">HttpRequest</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>url <span class="op">=</span> <span class="st">"https://hb.opencpu.org/post"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">$</span><span class="fu">retry</span><span class="op">(</span><span class="st">"post"</span>, body <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>foo <span class="op">=</span> <span class="st">"bar"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `HttpRequest$verb`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="va">HttpRequest</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>url <span class="op">=</span> <span class="st">"https://hb.opencpu.org/get"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="va">z</span><span class="op">$</span><span class="fu">verb</span><span class="op">(</span><span class="st">'get'</span>, query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>hello <span class="op">=</span> <span class="st">"world"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res</span><span class="op">$</span><span class="va">payload</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $url</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $url$url</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "https://hb.opencpu.org/get?hello=world"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $url$handle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;curl handle&gt; (https://hb.opencpu.org/get?hello=world)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $method</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "get"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $options</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $options$httpget</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $headers</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $headers$`Accept-Encoding`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "gzip, deflate"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $headers$Accept</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "application/json, text/xml, application/xml, */*"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

